{"version":3,"sources":["components/Header.js","firebase.js","components/SidebarOption.js","components/Sidebar.js","components/Message.js","components/ChatInput.js","components/Chat.js","components/Login.js","App.js","reportWebVitals.js","redux/userreducer.js","redux/rootreducer.js","store.js","index.js"],"names":["Header","state","useSelector","userreducer","user","length","className","Avatar","src","photoURL","alt","displayName","placeholder","name","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","SidebarOption","Icon","title","id","addChannelOption","history","useHistory","addChannel","a","channelName","prompt","addDoc","collection","onClick","push","Sidebar","useState","channels","setChannels","roomCol","getDocs","roomSnapshot","docs","map","doc","data","specialOfTheDay","onSnapshot","docSnapshot","useEffect","getRooms","InsertCommentIcon","InboxIcon","DraftsIcon","BookmarkBorderIcon","PeopleAltIcon","AppsIcon","FileCopyIcon","ExpandLessIcon","ExpandMoreIcon","AddIcon","channel","TagOutlinedIcon","Message","message","timestamp","userImage","Date","toDate","toUTCString","ChatInput","channelId","msgInput","setMsgInput","sendMessage","e","preventDefault","userimage","value","onChange","target","toLowerCase","color","Chat","roomId","useParams","roomDetails","setRoomDetails","roomMessages","setRoomMessages","getMessages","query","orderBy","q","querySnapShot","messages","forEach","doc_data","console","log","msg","Login","dispatch","useDispatch","Button","auth","getAuth","provider","GoogleAuthProvider","signInWithPopup","then","result","type","payload","catch","error","alert","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","action","newState","rootreducer","combineReducers","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.20cb9660.chunk.js","sourcesContent":["import React from \"react\";\r\nimport AccessTimeOutlinedIcon from \"@mui/icons-material/AccessTimeOutlined\";\r\nimport \"./Header.css\";\r\nimport { Avatar } from \"@mui/material\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport HelpOutlineOutlinedIcon from \"@mui/icons-material/HelpOutlineOutlined\";\r\nimport { useSelector } from \"react-redux\";\r\nexport const Header = () => {\r\n  const state = useSelector((state) => state.userreducer);\r\n  const user = state[state.length - 1].user;\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header_left\">\r\n        <Avatar\r\n          className=\"header_avatar\"\r\n          src={user.photoURL}\r\n          alt={user?.displayName}\r\n        ></Avatar>\r\n        <AccessTimeOutlinedIcon />\r\n      </div>\r\n      <div className=\"header_search\">\r\n        <input placeholder=\"Search Tutul's slack\" name=\"search_input\" />\r\n        <SearchIcon className=\"header_search_icon\" />\r\n      </div>\r\n      <div className=\"header_right\">\r\n        {/*help icon */}\r\n        <HelpOutlineOutlinedIcon />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAKWlkcPvzulzepTkNVxgZCCEh6_G9-J1k\",\r\n  authDomain: \"slack-clone-53bbb.firebaseapp.com\",\r\n  projectId: \"slack-clone-53bbb\",\r\n  storageBucket: \"slack-clone-53bbb.appspot.com\",\r\n  messagingSenderId: \"177186253261\",\r\n  appId: \"1:177186253261:web:ee4f3e0e9bfdad6c6afc84\",\r\n  measurementId: \"G-WT7CWJ9B12\",\r\n};\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\n\r\nexport { db };\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport \"./SidebarOption.css\";\r\nimport { db } from \"../firebase\";\r\nimport { addDoc, collection } from \"firebase/firestore\";\r\n\r\nexport const SidebarOption = ({ Icon, title, id, addChannelOption }) => {\r\n  const history = useHistory();\r\n  const selectChannel = () => {\r\n    if (id) {\r\n      history.push(`/room/${id}`);\r\n    }\r\n  };\r\n  const addChannel = async () => {\r\n    const channelName = prompt(\"Please enter the channel name\");\r\n    if (channelName) {\r\n      await addDoc(collection(db, \"rooms\"), {\r\n        name: channelName,\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      className=\"sidebarOption\"\r\n      onClick={addChannelOption ? addChannel : selectChannel}\r\n    >\r\n      {Icon && <Icon className=\"sidebarOption__icon\" />}\r\n      {Icon ? (\r\n        <h3>{title}</h3>\r\n      ) : (\r\n        <h3 className=\"sidebarOption__channel\">\r\n          <span className=\"sidebarption__hash\">#</span>\r\n          {title}\r\n        </h3>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport FiberManualRecordIcon from \"@mui/icons-material/FiberManualRecord\";\r\nimport CreateIcon from \"@mui/icons-material/Create\";\r\nimport \"./Sidebar.css\";\r\nimport { SidebarOption } from \"./SidebarOption\";\r\nimport InsertCommentIcon from \"@mui/icons-material/InsertComment\";\r\nimport InboxIcon from \"@mui/icons-material/Inbox\";\r\nimport DraftsIcon from \"@mui/icons-material/Drafts\";\r\nimport BookmarkBorderIcon from \"@mui/icons-material/BookmarkBorder\";\r\nimport PeopleAltIcon from \"@mui/icons-material/PeopleAlt\";\r\nimport AppsIcon from \"@mui/icons-material/Apps\";\r\nimport FileCopyIcon from \"@mui/icons-material/FileCopy\";\r\nimport ExpandLessIcon from \"@mui/icons-material/ExpandLess\";\r\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport TagOutlinedIcon from \"@mui/icons-material/TagOutlined\";\r\nimport { db } from \"../firebase\";\r\nimport { collection, getDocs } from \"firebase/firestore\";\r\nimport { doc, onSnapshot } from \"firebase/firestore\";\r\nimport { useSelector } from \"react-redux\";\r\nexport const Sidebar = () => {\r\n  const [channels, setChannels] = useState([]);\r\n  async function getRooms(db) {\r\n    const roomCol = collection(db, \"rooms\");\r\n    const roomSnapshot = await getDocs(roomCol);\r\n    setChannels(\r\n      roomSnapshot.docs.map((doc) => {\r\n        return { id: doc.id, name: doc.data().name };\r\n      })\r\n    );\r\n    const specialOfTheDay = doc(db, \"rooms/a3xLfjMXaap9K5S9m2pp\");\r\n    onSnapshot(specialOfTheDay, (docSnapshot) => {\r\n      // const docData = docSnapshot.data();\r\n      // console.log(\"Realtime data\" + JSON.stringify(docData));\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    getRooms(db);\r\n  }, []);\r\n  const state = useSelector((state) => state.userreducer);\r\n  const user = state[state.length - 1].user;\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar__header\">\r\n        <div className=\"sidebar__info\">\r\n          <h2>Tutul</h2>\r\n          <h3>\r\n            <FiberManualRecordIcon className=\"online__icon\" />\r\n            {user?.displayName}\r\n          </h3>\r\n        </div>\r\n        <CreateIcon className=\"sidebar__pencil_icon\" />\r\n      </div>\r\n      <SidebarOption Icon={InsertCommentIcon} title=\"Threads\" />\r\n      <SidebarOption Icon={InboxIcon} title=\"Mentions & reactions\" />\r\n      <SidebarOption Icon={DraftsIcon} title=\"Saved items\" />\r\n      <SidebarOption Icon={BookmarkBorderIcon} title=\"Channel browser\" />\r\n      <SidebarOption Icon={PeopleAltIcon} title=\"People & user groups\" />\r\n      <SidebarOption Icon={AppsIcon} title=\"Apps\" />\r\n      <SidebarOption Icon={FileCopyIcon} title=\"File browser\" />\r\n      <SidebarOption Icon={ExpandLessIcon} title=\"Show less\" />\r\n      <hr />\r\n      <SidebarOption Icon={ExpandMoreIcon} title=\"Channels\" />\r\n      <hr />\r\n      <SidebarOption Icon={AddIcon} addChannelOption title=\"Add Channel\" />\r\n      {/* Connect to db and list the channels*/}\r\n      {channels.map((channel) => {\r\n        return (\r\n          <SidebarOption\r\n            key={channel.id}\r\n            id={channel.id}\r\n            Icon={TagOutlinedIcon}\r\n            title={channel.name}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Message.css\";\r\nexport const Message = ({ message, timestamp, user, userImage }) => {\r\n  return (\r\n    <div className=\"message\">\r\n      <img src={userImage} alt={user} className=\"message__userImage\"></img>\r\n      <div className=\"message__info\">\r\n        <h4>\r\n          {user}{\" \"}\r\n          <span className=\"message__timestamp\">\r\n            {new Date(timestamp?.toDate()).toUTCString()}\r\n          </span>\r\n        </h4>\r\n        <p>{message}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"./ChatInput.css\";\r\nimport { Button } from \"@mui/material\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { db } from \"../firebase\";\r\nimport { addDoc, collection } from \"firebase/firestore\";\r\n// import firebase from \"firebase\";\r\nexport const ChatInput = ({ channelName, channelId }) => {\r\n  const [msgInput, setMsgInput] = useState(\"\");\r\n  const state = useSelector((state) => state.userreducer);\r\n  const user = state[state.length - 1].user;\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (channelId) {\r\n      await addDoc(collection(db, `rooms/${channelId}/messages`), {\r\n        message: msgInput,\r\n        timestamp: new Date(),\r\n        user: user.displayName,\r\n        userimage: user.photoURL,\r\n      });\r\n    }\r\n    setMsgInput(\"\");\r\n  };\r\n  return (\r\n    <div className=\"chatInput\">\r\n      <form>\r\n        <input\r\n          value={msgInput}\r\n          onChange={(e) => setMsgInput(e.target.value)}\r\n          placeholder={`Message #${channelName?.toLowerCase()}`}\r\n          className=\"chatInput__msg\"\r\n        ></input>\r\n        <SendIcon className=\"send_btn\" onClick={sendMessage} color=\"green\">\r\n          Send\r\n        </SendIcon>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Chat.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport StarBorderIcon from \"@mui/icons-material/StarBorder\";\r\nimport InfoOutlinedIcon from \"@mui/icons-material/InfoOutlined\";\r\nimport { db } from \"../firebase\";\r\nimport { Message } from \"./Message\";\r\nimport {\r\n  doc,\r\n  onSnapshot,\r\n  collection,\r\n  query,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\nimport { ChatInput } from \"./ChatInput\";\r\nexport const Chat = () => {\r\n  const { roomId } = useParams();\r\n  const [roomDetails, setRoomDetails] = useState(null);\r\n  const [roomMessages, setRoomMessages] = useState([]);\r\n  const getMessages = async () => {\r\n    const q = await query(\r\n      collection(db, `rooms/${roomId}/messages`),\r\n      orderBy(\"timestamp\")\r\n    );\r\n    await onSnapshot(q, (querySnapShot) => {\r\n      const messages = [];\r\n      querySnapShot.forEach((doc) => {\r\n        messages.push(doc.data());\r\n      });\r\n      setRoomMessages(messages);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (roomId) {\r\n      const specialOfTheDay = doc(db, `rooms/${roomId}`);\r\n      onSnapshot(specialOfTheDay, (docSnapshot) => {\r\n        const doc_data = docSnapshot.data();\r\n        setRoomDetails(doc_data);\r\n      });\r\n    }\r\n    getMessages();\r\n  }, [roomId]);\r\n  console.log(roomMessages);\r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chat__header\">\r\n        <div className=\"chat__headerLeft\">\r\n          <h4 className=\"chat__channelName\">\r\n            <strong>#{roomDetails?.name}</strong>\r\n            <StarBorderIcon className=\"chat__starIcon\" />\r\n          </h4>\r\n        </div>\r\n        <div className=\"chat__headerRight\">\r\n          <p>\r\n            <InfoOutlinedIcon className=\"chat__infoIcon\" />\r\n            Details\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"chat__container\">\r\n        <div className=\"chat__messages\">\r\n          {/* Chat messages */}\r\n          {roomMessages.map((msg) => {\r\n            return (\r\n              <Message\r\n                message={msg.message}\r\n                timestamp={msg.timestamp}\r\n                user={msg.user}\r\n                userImage={msg.userimage}\r\n              ></Message>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <ChatInput channelName={roomDetails?.name} channelId={roomId} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport \"./Login.css\";\r\nimport { GoogleAuthProvider, getAuth, signInWithPopup } from \"firebase/auth\";\r\nimport { useDispatch } from \"react-redux\";\r\nexport const Login = () => {\r\n  const dispatch = useDispatch();\r\n  const signIn = () => {\r\n    // alert(\"Sign in button clicked\");\r\n    const auth = getAuth();\r\n    const provider = new GoogleAuthProvider();\r\n    signInWithPopup(auth, provider)\r\n      .then((result) => {\r\n        console.log(result);\r\n        dispatch({ type: \"SET_USER\", payload: result.user });\r\n      })\r\n      .catch((error) => {\r\n        alert(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__container\">\r\n        <img\r\n          src=\"https://cdn-icons-png.flaticon.com/512/2111/2111615.png\"\r\n          alt=\"slack logo\"\r\n        ></img>\r\n        <h1>Sign in to Tutul's slack</h1>\r\n        <Button className=\"signin__btn\" onClick={signIn}>\r\n          SIGN IN WITH GOOGLE\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\nimport \"./App.css\";\nimport { Header } from \"./components/Header\";\nimport { Sidebar } from \"./components/Sidebar\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { Chat } from \"./components/Chat\";\nimport { Login } from \"./components/Login\";\nimport { useSelector } from \"react-redux\";\nfunction App() {\n  const state = useSelector((state) => state.userreducer);\n  const user = state[state.length - 1].user;\n\n  return (\n    <div>\n      <Router>\n        {!user ? (\n          <Login />\n        ) : (\n          <>\n            <Header></Header>\n            <div className=\"app__body\">\n              <Sidebar />\n              <Switch>\n                <Route path=\"/\" exact>\n                  <h1>Home Screen</h1>\n                </Route>\n                <Route path=\"/room/:roomId\" exact>\n                  <Chat />\n                </Route>\n              </Switch>\n              {/* React-Router Chat Screen */}\n            </div>\n          </>\n        )}\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = [\r\n  {\r\n    user: null,\r\n  },\r\n];\r\nconst userreducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_USER\": {\r\n      const newState = { user: action.payload };\r\n      state = [...state, newState];\r\n      return state;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\nexport default userreducer;\r\n","import { combineReducers } from \"redux\";\r\nimport userreducer from \"./userreducer\";\r\nconst rootreducer = combineReducers({ userreducer });\r\nexport default rootreducer;\r\n","import { createStore } from \"redux\";\r\nimport rootreducer from \"./redux/rootreducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nconst store = createStore(rootreducer, composeWithDevTools());\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}